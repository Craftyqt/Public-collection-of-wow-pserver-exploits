<?xml version="1.0" encoding="utf-8" ?><ROGUE><Ability><Name>-- Start Fight --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if UnitIsDead(&amp;quot;target&amp;quot;)
or not UnitCanAttack(&amp;quot;player&amp;quot;,&amp;quot;target&amp;quot;) 
or ( not UnitAffectingCombat(&amp;quot;target&amp;quot;) and not SpecialAggro(&amp;quot;target&amp;quot;) and not UnitIsPlayer(&amp;quot;target&amp;quot;) )
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>-- Hotkeys --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>--Pause/the/rotation!

if IsLeftShiftKeyDown() then

	return true

end

--Pause/the/rotation!

if not rightkeydown then rightkeydown = 0 end

if IsRightControlKeyDown()  and GetTime() - rightkeydown &amp;gt; 1 then
	leftkeydown = GetTime()

  	if UseCD  then 

    		UseCD  = false 
		print(&amp;quot;Cooldowns disabled!&amp;quot;)

  	else 
    	
		UseCD  = true 
		print(&amp;quot;Cooldowns enabled!&amp;quot;)

  	end
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat :  Init</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if not ComLoaded then

function SpecialAggro(t)
   local mob = { &amp;quot;Training Dummy&amp;quot;, &amp;quot;Raider&amp;apos;s Training Dummy&amp;quot;, &amp;quot;Twisted Spirit&amp;quot;, &amp;quot;AmaniÂ´shi Hatcher&amp;quot;, &amp;quot;Hakkar&amp;apos;s Chains&amp;quot;, 
                          &amp;quot;Exposed Head of Magmaw&amp;quot;, &amp;quot;Battleground Demolisher&amp;quot;, &amp;quot;Ozumat&amp;quot;, &amp;quot;Right Foot&amp;quot;, &amp;quot;Left Foot&amp;quot;, 
                          &amp;quot;Icy Tomb&amp;quot;, &amp;quot;Risen Ghoul&amp;quot;, &amp;quot;Mana Void&amp;quot;, &amp;quot;Burning Tendons&amp;quot;, &amp;quot;Wing Tentacle&amp;quot;, &amp;quot;Arm Tentacle&amp;quot;, 
                          &amp;quot;Twilight Assault Drake&amp;quot;, &amp;quot;Goriona&amp;quot;, &amp;quot;Ice Tomb&amp;quot;, &amp;quot;Twilight Sapper&amp;quot;, &amp;quot;Dreadlord Debilitator&amp;quot; }
    for _,v in ipairs(mob) do if UnitName(t) == v then return true end end
end

function BleedDebuff(t)
    local buff = { 35290, 50271, 57386, 33878, 33876, 29859, 46857, 16511 }
    for i=1, #buff do if UnitDebuffID(t,buff[i]) then return true end end
end

	UseCD			= true
	ComLoaded		= true

end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Varables</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>Energy 				= UnitPower( &amp;quot;player&amp;quot; )
CPonTarget			= GetComboPoints( &amp;quot;player&amp;quot;, &amp;quot;target&amp;quot; )
PlayerCombat		= UnitAffectingCombat( &amp;quot;player&amp;quot; )
IsNotBehind			= PQR_NotBehindTarget()
SnDTimer			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 5171 ) )
RecTimer			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 73651 ) )
RupTimer			= select(7, UnitDebuffID( &amp;quot;target&amp;quot;, 1943, &amp;quot;PLAYER&amp;quot; ) )
RvSTimer			= select(7, UnitDebuffID( &amp;quot;target&amp;quot;, 84617, &amp;quot;PLAYER&amp;quot; ) )
CloakCD				= select(2, GetSpellCooldown( 31224 ) )
ARUP				= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 13750 ) )
RedUP				= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 84747 ) )</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Killing Spree</Name><Default>false</Default><SpellID>51690</SpellID><Actions></Actions><Lua>if UseCD then

	if Energy &amp;lt; 35 then

		if ( SnDTimer - GetTime() ) &amp;gt; 4 then

			if ARUP == nil then

				return true

			end

		end

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Adrenalin Rush</Name><Default>false</Default><SpellID>13750</SpellID><Actions></Actions><Lua>if UseCD then

	if Energy &amp;lt; 35 then

		return true

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Eviscerate BG</Name><Default>false</Default><SpellID>2098</SpellID><Actions></Actions><Lua>if CPonTarget == 5 and RedUP then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Eviscerate</Name><Default>false</Default><SpellID>2098</SpellID><Actions></Actions><Lua>if CPonTarget == 5 then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Rupture</Name><Default>false</Default><SpellID>1943</SpellID><Actions></Actions><Lua>if BleedDebuff( &amp;quot;target&amp;quot; ) then

	if CPonTarget == 5 then

		if RupTimer == nil then

			return true

		end

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Revealing Strike</Name><Default>false</Default><SpellID>84617</SpellID><Actions></Actions><Lua>if CPonTarget == 4 and RvSTimer == nil then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Sinister Strike</Name><Default>false</Default><SpellID>1752</SpellID><Actions></Actions><Lua>if CPonTarget &amp;lt; 5 then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Tricks of the Trade</Name><Default>false</Default><SpellID>57934</SpellID><Actions></Actions><Lua>if UnitExists( &amp;quot;focus&amp;quot; ) then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Focus</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>-- Special Events --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>-- Avoid sudden death on Ultraxion
local fadingtime = select(7,UnitDebuffID(&amp;quot;player&amp;quot;,110070))
if fadingtime and fadingtime - GetTime() &amp;lt; 1.3 then RunMacroText(&amp;quot;/click ExtraActionButton1&amp;quot;) end 

-- Avoid Hour of Twilight on Ultraxion, Delete next 3 lines if you are working as tank
local channelSpell, _, _, _, _, endTime = UnitCastingInfo(&amp;quot;boss1&amp;quot;)
if channelSpell == GetSpellInfo(109417) and endTime/1000 - GetTime() &amp;lt; 1.3 
then RunMacroText(&amp;quot;/click ExtraActionButton1&amp;quot;) end 

-- Avoid sudden death on Madness 
local tentacledeath = select(7,UnitDebuffID(&amp;quot;player&amp;quot;,109597))
if tentacledeath and tentacledeath - GetTime() &amp;lt; 1 then RunMacroText(&amp;quot;/click ExtraActionButton1&amp;quot;) end

-- Try to aim on Darkmoon Faerie Cannon
local canontime = select(7,UnitBuffID(&amp;quot;player&amp;quot;,102116))
if canontime and canontime - GetTime() &amp;lt; 1.15 then CancelUnitBuff(&amp;quot;player&amp;quot;,&amp;quot;Magic Wings&amp;quot;) end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Apply Poisons</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local ApplyPoisonTimer
if not ApplyPoisonTimer then ApplyPoisonTimer = GetTime() - 6 end
if not UnitAffectingCombat(&amp;quot;player&amp;quot;) and GetTime() - ApplyPoisonTimer &amp;gt;= 6 then
	ApplyPoisonTimer = GetTime()
	local activepoisons = { &amp;quot;Instant Poison&amp;quot;, &amp;quot;Deadly Poison&amp;quot;, &amp;quot;Wound Poison&amp;quot; }
	if IsSpellKnown(36554) then 
		activepoisons = { &amp;quot;Wound Poison&amp;quot;, &amp;quot;Crippling Poison&amp;quot;, &amp;quot;Crippling Poison&amp;quot; } 
	end
	
	local _,poisonMH,_,_,poisonOH,_,_,poisonTR = GetWeaponEnchantInfo()
	
	if not poisonMH then 
	  UseItemByName(activepoisons[1],&amp;quot;player&amp;quot;) 
	  if SpellIsTargeting() then PickupInventoryItem(16) end
	elseif not poisonOH then
		UseItemByName(activepoisons[2],&amp;quot;player&amp;quot;) 
		if SpellIsTargeting() then PickupInventoryItem(17) end
	elseif not poisonTR then
		UseItemByName(activepoisons[3],&amp;quot;player&amp;quot;) 
		if SpellIsTargeting() then PickupInventoryItem(18) end
	end

end</Lua><RecastDelay>500</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Pick Lock</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local name,_,_,_,_,enchant = GetTradeTargetItemInfo(7)

if name and string.find(name,&amp;quot;Lockbox&amp;quot;) then

if enchant then
  AcceptTrade()
else
  CastSpellByID(1804)
  ClickTargetTradeButton(7)
end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Fan of Knives</Name><Default>false</Default><SpellID>51723</SpellID><Actions></Actions><Lua>if IsRightAltKeyDown() 
and not GetCurrentKeyBoardFocus() 
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Combat : Slice and Dice</Name><Default>false</Default><SpellID>5171</SpellID><Actions></Actions><Lua>if SnDTimer == nil then

	return true

elseif ( SnDTimer -GetTime() ) &amp;lt;2 then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability></ROGUE>