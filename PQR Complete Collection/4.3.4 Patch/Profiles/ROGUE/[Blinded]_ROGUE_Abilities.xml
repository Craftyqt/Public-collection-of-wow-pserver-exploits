<?xml version="1.0" encoding="utf-8" ?><ROGUE><Ability><Name>-- Start Fight --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if UnitIsDead(&amp;quot;target&amp;quot;)
or not UnitCanAttack(&amp;quot;player&amp;quot;,&amp;quot;target&amp;quot;) 
or ( not UnitAffectingCombat(&amp;quot;target&amp;quot;) and not SpecialAggro(&amp;quot;target&amp;quot;) and not UnitIsPlayer(&amp;quot;target&amp;quot;) )
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Variables</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>Energy 			= UnitPower( &amp;quot;player&amp;quot; )
CPonTarget		= GetComboPoints( &amp;quot;player&amp;quot;, &amp;quot;target&amp;quot; )
PlayerCombat		= UnitAffectingCombat( &amp;quot;player&amp;quot; )
HemoTimer		= CheckDebuff( 89775 )
IsNotBehind		= PQR_NotBehindTarget()
SnDTimer			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 5171 ) )
RecTimer			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 73651 ) )
RepTimer			= select(7, UnitDebuffID( &amp;quot;target&amp;quot;, 1943, &amp;quot;PLAYER&amp;quot; ) )
StealthUP		= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 1784 ) )
MoSUP			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 31223 ) )
VanishUP			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 11327 ) )
ShadowDanceUP		= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 51713 ) )
CloakCD			= select(2, GetSpellCooldown( 31224 ) )
ShadowStepCD		= select(2, GetSpellCooldown( 36554 ) )
VanishCD			= select(2, GetSpellCooldown( 1856 ) )
ShadowDanceCD		= select(2, GetSpellCooldown( 51713 ) )
PreparationCD		= select(2, GetSpellCooldown( 14185 ) )
PremeditationCD		= select(2, GetSpellCooldown( 14183 ) )
FW			= select(7, UnitDebuffID( &amp;quot;target&amp;quot;, 91021, &amp;quot;PLAYER&amp;quot; ) )
TargetName		= UnitName( &amp;quot;target&amp;quot; )</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Init</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if not SubLoaded then

function SpecialAggro(t)
   local mob = { &amp;quot;Training Dummy&amp;quot;, &amp;quot;Raider&amp;apos;s Training Dummy&amp;quot;, &amp;quot;Twisted Spirit&amp;quot;, &amp;quot;AmaniÂ´shi Hatcher&amp;quot;, &amp;quot;Hakkar&amp;apos;s Chains&amp;quot;, 
                          &amp;quot;Exposed Head of Magmaw&amp;quot;, &amp;quot;Battleground Demolisher&amp;quot;, &amp;quot;Ozumat&amp;quot;, &amp;quot;Right Foot&amp;quot;, &amp;quot;Left Foot&amp;quot;, 
                          &amp;quot;Icy Tomb&amp;quot;, &amp;quot;Risen Ghoul&amp;quot;, &amp;quot;Mana Void&amp;quot;, &amp;quot;Burning Tendons&amp;quot;, &amp;quot;Wing Tentacle&amp;quot;, &amp;quot;Arm Tentacle&amp;quot;, 
                          &amp;quot;Twilight Assault Drake&amp;quot;, &amp;quot;Goriona&amp;quot;, &amp;quot;Ice Tomb&amp;quot;, &amp;quot;Twilight Sapper&amp;quot;, &amp;quot;Dreadlord Debilitator&amp;quot; }
    for _,v in ipairs(mob) do if UnitName(t) == v then return true end end
end

function UseSpecial(t)
   local mob = {  &amp;quot;Mana Void&amp;quot;, &amp;quot;Burning Tendons&amp;quot;, &amp;quot;Wing Tentacle&amp;quot;, &amp;quot;Arm Tentacle&amp;quot;, &amp;quot;Ultraxion&amp;quot;, &amp;quot;Mutated Corruption&amp;quot; }
    for _,v in ipairs(mob) do if UnitName(t) == v then return false end end
end

function CheckDebuff(ID)

	local found = nil

	if not UnitExists( &amp;quot;target&amp;quot; ) then

		return nil

	end

	for i=1,40 do 

		if select(11, UnitDebuff( &amp;quot;target&amp;quot;, i ) ) == ID and select(8, UnitDebuff( &amp;quot;target&amp;quot;, i ) ) == &amp;quot;player&amp;quot; then
		
			found = select(7, UnitDebuff( &amp;quot;target&amp;quot;, i ) )

		end
	end

	return found

end

	StopRota			= false
	UseCD			= true
	SubLoaded		= true

end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Hemorrhage ( w Glyph )</Name><Default>false</Default><SpellID>16511</SpellID><Actions></Actions><Lua>if VanishUP == nil and ShadowDanceUP == nil then

	if IsNotBehind then

		if CPonTarget &amp;lt; 4 then

			return true

		elseif CPonTarget == 4 then

			if Energy &amp;gt; 80 then

				return true

			end

		end

	else

		if HemoTimer == nil then

			if CPonTarget &amp;lt; 4 then

				return true

			elseif CPonTarget == 4 then

				if Energy &amp;gt; 80 then

					return true

				end

			end

		elseif ( HemoTimer - GetTime() ) &amp;lt; 4 then

			if CPonTarget &amp;lt; 4 then

				return true

			elseif CPonTarget == 4 then

				if Energy &amp;gt; 80 then

					return true

				end

			end
	
		end
	
	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Rupture ( w MoS )</Name><Default>false</Default><SpellID>1943</SpellID><Actions></Actions><Lua>if CPonTarget == 5 and MoSUP ~= nil then

	if RepTimer == nil then

		return true

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Shadowstep</Name><Default>false</Default><SpellID>36554</SpellID><Actions></Actions><Lua>if UseSpecial( &amp;quot;target&amp;quot; ) ~= false then

	if ( ShadowDanceUP ~= nil and FW ~= nil ) or ( MoSUP ~= nil  ) then

		return true

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Rupture ( w/o MoS )</Name><Default>false</Default><SpellID>1943</SpellID><Actions></Actions><Lua>if CPonTarget == 5 and MoSUP == nil then

	if RepTimer == nil then

		return true

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Slice and Dice</Name><Default>false</Default><SpellID>5171</SpellID><Actions></Actions><Lua>if CPonTarget == 5 then

	if SnDTimer == nil then

		return true

	elseif ( SnDTimer - GetTime()  ) &amp;lt; 3 then

		return true

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Recuperate</Name><Default>false</Default><SpellID>73651</SpellID><Actions></Actions><Lua>if CPonTarget == 5 then

	if RecTimer == nil then

		return true

	elseif ( RecTimer - GetTime()  ) &amp;lt; 3 then

		return true

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Backstab ( w HemoGlyph )</Name><Default>false</Default><SpellID>53</SpellID><Actions></Actions><Lua>if VanishUP == nil and ShadowDanceUP == nil then

	if HemoTimer ~= nil then

		if not IsNotBehind then

			if CPonTarget &amp;lt; 4 then

				return true

			elseif CPonTarget == 4 then

				if Energy &amp;gt; 80 then

					return true

				end

			end

		end

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Eviscerate</Name><Default>false</Default><SpellID>2098</SpellID><Actions></Actions><Lua>if CPonTarget == 5 then
	
	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Shadow Dance</Name><Default>false</Default><SpellID>51713</SpellID><Actions></Actions><Lua>if FW == nil and UseCD then

	if CPonTarget &amp;lt; 2 then

		if MoSUP == nil then

			return true

		end

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Ambush</Name><Default>false</Default><SpellID>8676</SpellID><Actions></Actions><Lua>if CPonTarget &amp;lt;= 4 then 

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Premeditation</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if IsUsableSpell( 14183 ) then

if CPonTarget &amp;lt;= 3 then

	CastSpellByID( 14183, &amp;quot;target&amp;quot; )

end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Vanish</Name><Default>false</Default><SpellID>1856</SpellID><Actions></Actions><Lua>if FW == nil and UseCD then

	if CPonTarget &amp;lt; 2 then

		if ShadowDanceUP == nil and MoSUP == nil then

			return true

		end

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>-- Hotkeys --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>--Pause/the/rotation!

if IsLeftShiftKeyDown() then

	return true

end

--Pause/the/rotation!

if not rightkeydown then rightkeydown = 0 end

if IsRightControlKeyDown()  and GetTime() - rightkeydown &amp;gt; 1 then
	leftkeydown = GetTime()

  	if UseCD  then 

    		UseCD  = false 
		print(&amp;quot;Cooldowns disabled!&amp;quot;)

  	else 
    	
		UseCD  = true 
		print(&amp;quot;Cooldowns enabled!&amp;quot;)

  	end
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Preparation</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if IsUsableSpell( 14185 ) then

	if VanishCD &amp;gt; 60 then

		CastSpellByID( 14185 )

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Subtlety : Tricks of the Trade</Name><Default>false</Default><SpellID>57934</SpellID><Actions></Actions><Lua>if UnitExists( &amp;quot;focus&amp;quot; ) then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Focus</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat :  Init</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if not ComLoaded then

function SpecialAggro(t)
   local mob = { &amp;quot;Training Dummy&amp;quot;, &amp;quot;Raider&amp;apos;s Training Dummy&amp;quot;, &amp;quot;Twisted Spirit&amp;quot;, &amp;quot;AmaniÂ´shi Hatcher&amp;quot;, &amp;quot;Hakkar&amp;apos;s Chains&amp;quot;, 
                          &amp;quot;Exposed Head of Magmaw&amp;quot;, &amp;quot;Battleground Demolisher&amp;quot;, &amp;quot;Ozumat&amp;quot;, &amp;quot;Right Foot&amp;quot;, &amp;quot;Left Foot&amp;quot;, 
                          &amp;quot;Icy Tomb&amp;quot;, &amp;quot;Risen Ghoul&amp;quot;, &amp;quot;Mana Void&amp;quot;, &amp;quot;Burning Tendons&amp;quot;, &amp;quot;Wing Tentacle&amp;quot;, &amp;quot;Arm Tentacle&amp;quot;, 
                          &amp;quot;Twilight Assault Drake&amp;quot;, &amp;quot;Goriona&amp;quot;, &amp;quot;Ice Tomb&amp;quot;, &amp;quot;Twilight Sapper&amp;quot;, &amp;quot;Dreadlord Debilitator&amp;quot; }
    for _,v in ipairs(mob) do if UnitName(t) == v then return true end end
end

function BleedDebuff(t)
    local buff = { 35290, 50271, 57386, 33878, 29859, 16511 }
    for _,v in ipairs(buff) do if UnitDebuffID(t,v) then return true end end
end

	UseCD			= true
	ComLoaded		= true

end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Varables</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>Energy 			= UnitPower( &amp;quot;player&amp;quot; )
CPonTarget		= GetComboPoints( &amp;quot;player&amp;quot;, &amp;quot;target&amp;quot; )
PlayerCombat		= UnitAffectingCombat( &amp;quot;player&amp;quot; )
IsNotBehind		= PQR_NotBehindTarget()
SnDTimer			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 5171 ) )
RecTimer			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 73651 ) )
RupTimer			= select(7, UnitDebuffID( &amp;quot;target&amp;quot;, 1943, &amp;quot;PLAYER&amp;quot; ) )
RvSTimer			= select(7, UnitDebuffID( &amp;quot;target&amp;quot;, 84617, &amp;quot;PLAYER&amp;quot; ) )
CloakCD			= select(2, GetSpellCooldown( 31224 ) )
ARUP			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 13750 ) )
RedUP			= select(7, UnitBuffID( &amp;quot;player&amp;quot;, 84747 ) )</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Slince and Dice</Name><Default>false</Default><SpellID>5171</SpellID><Actions></Actions><Lua>if SnDTimer == nil then

	return true

elseif ( SnDTimer -GetTime() ) &amp;lt;2 then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Killing Spree</Name><Default>false</Default><SpellID>51690</SpellID><Actions></Actions><Lua>if UseCD then

	if Energy &amp;lt; 35 then

		if ( SnDTimer - GetTime() ) &amp;gt; 4 then

			if ARUP == nil then

				return true

			end

		end

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Adrenalin Rush</Name><Default>false</Default><SpellID>13750</SpellID><Actions></Actions><Lua>if UseCD then

	if Energy &amp;lt; 35 then

		return true

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Eviscerate BG</Name><Default>false</Default><SpellID>2098</SpellID><Actions></Actions><Lua>if CPonTarget == 5 and RedUP then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Eviscerate</Name><Default>false</Default><SpellID>2098</SpellID><Actions></Actions><Lua>if CPonTarget == 5 then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Rupture</Name><Default>false</Default><SpellID>1943</SpellID><Actions></Actions><Lua>if BleedDebuff( &amp;quot;target&amp;quot; ) then

	if CPonTarget == 5 then

		if RupTimer == nil then

			return true

		end

	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Revealing Strike</Name><Default>false</Default><SpellID>84617</SpellID><Actions></Actions><Lua>if CPonTarget == 4 and RvSTimer == nil then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability><Ability><Name>Combat : Sinister Strike</Name><Default>false</Default><SpellID>1752</SpellID><Actions></Actions><Lua>if CPonTarget &amp;lt; 5 then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><LuaBefore></LuaBefore><LuaAfter></LuaAfter></Ability></ROGUE>