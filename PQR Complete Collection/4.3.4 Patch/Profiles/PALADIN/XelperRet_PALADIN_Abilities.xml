<?xml version="1.0" encoding="utf-8" ?><PALADIN><Ability><Name>Seal of Truth</Name><Default>false</Default><SpellID>31801</SpellID><Actions></Actions><Lua>local sealTruth = UnitBuffID(&amp;quot;player&amp;quot;, 31801)

if sealTruth == nil then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Exorcism (Art of War)</Name><Default>false</Default><SpellID>879</SpellID><Actions></Actions><Lua>local artOfWar = UnitBuffID(&amp;quot;player&amp;quot;, 87138)

if artOfWar ~= nil then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Inquisition</Name><Default>false</Default><SpellID>84963</SpellID><Actions></Actions><Lua>local holyPower = UnitPower(&amp;quot;player&amp;quot;, 9)
local divinePurpose = UnitBuffID(&amp;quot;player&amp;quot;, 86172)
local inquisition, _, _, _, _, _, inquisitionEndTime = UnitBuffID(&amp;quot;player&amp;quot;, 84963)
--if (InqBuffDown || InqEndTime &amp;lt;= 2) &amp;&amp; (holy_power &amp;gt;= 3 || divine purpose)


if inquisition ~= nil then
	inquisitionEndTime = inquisitionEndTime - GetTime()
end

if inquisition == nil or inquisitionEndTime &amp;lt;= 2 then
	if holyPower &amp;gt;= 3 or divinePurpose ~= nil then
		return true
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Judgement (No Zealotry &amp;lt; 3 HP)</Name><Default>false</Default><SpellID>20271</SpellID><Actions></Actions><Lua>local holyPower = UnitPower(&amp;quot;player&amp;quot;, 9)
local zealotry = UnitBuffID(&amp;quot;player&amp;quot;, 85696)

if holyPower &amp;lt;= 2 and zealotry == nil then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Judgement (No JOTP Buff)</Name><Default>false</Default><SpellID>20271</SpellID><Actions></Actions><Lua>local holyPower = UnitPower(&amp;quot;player&amp;quot;, 9)
local jotpBuff = UnitBuffID(&amp;quot;player&amp;quot;, 54151)

if jotpBuff == nil then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Crusader Strike (&amp;lt;3 HP)</Name><Default>false</Default><SpellID>35395</SpellID><Actions></Actions><Lua>local holyPower = UnitPower(&amp;quot;player&amp;quot;, 9)

if holyPower &amp;lt;= 2 then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Templar&amp;apos;s Verdict</Name><Default>false</Default><SpellID>85256</SpellID><Actions></Actions><Lua>local holyPower = UnitPower(&amp;quot;player&amp;quot;, 9)
local divinePurpose = UnitBuffID(&amp;quot;player&amp;quot;, 86172)

if holyPower &amp;gt;= 3 or divinePurpose ~= nil then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Hammer of Wrath</Name><Default>false</Default><SpellID>24275</SpellID><Actions></Actions><Lua>local avengingWrath = UnitBuffID(&amp;quot;player&amp;quot;, 31884)
local targetHP = UnitHealth(&amp;quot;target&amp;quot;) / UnitHealthMax(&amp;quot;target&amp;quot;) * 100

if avengingWrath or targetHP &amp;lt;= 20 then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Judgement (Zealotry)</Name><Default>false</Default><SpellID>20271</SpellID><Actions></Actions><Lua>local holyPower = UnitPower(&amp;quot;player&amp;quot;, 9)
local zealotry = UnitBuffID(&amp;quot;player&amp;quot;, 85696)

if zealotry and holyPower &amp;lt; 3 then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Wait</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local crusaderStrikeStart, crusaderStrikeDuration = GetSpellCooldown(35395)
local crusaderStrikeCD = crusaderStrikeStart - GetTime() + crusaderStrikeDuration
local gcdSpell = PQR_GCDSpellID()
local gcdStartTime, gcdDuration = GetSpellCooldown(gcdSpell)
local gcdTimeLeft = gcdStartTime + gcdDuration - GetTime()
if gcdTimeLeft &amp;lt; 0 then
	gcdTimeLeft = 0
end
crusaderStrikeCD = crusaderStrikeCD - gcdTimeLeft
if crusaderStrikeCD &amp;lt; 0 then
	crusaderStrikeCD = 0
end
if crusaderStrikeCD &amp;lt; 0.2 and crusaderStrikeCD &amp;gt; 0 then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Holy Wrath</Name><Default>false</Default><SpellID>2812</SpellID><Actions></Actions><Lua>return true</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Consecration</Name><Default>false</Default><SpellID>26573</SpellID><Actions></Actions><Lua>local playerMana = UnitPower(&amp;quot;player&amp;quot;)
local isMoving = PQR_IsMoving(1)

if isMoving == false and playerMana &amp;gt; 16000 then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Divine Plea</Name><Default>false</Default><SpellID>54428</SpellID><Actions></Actions><Lua>return true</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Seal of Righteousness</Name><Default>false</Default><SpellID>20154</SpellID><Actions></Actions><Lua>local sealRight = UnitBuffID(&amp;quot;player&amp;quot;, 20154)

if sealRight == nil then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Divine Storm</Name><Default>false</Default><SpellID>53385</SpellID><Actions></Actions><Lua>return true</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>---- Initialize ----</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if PQR_RotationStarted == true then
	PQR_RotationStarted = false
	--The delay list is cleared on rotation restart.
	PQR_AddToSpellDelayList(642, 0, 1) --Divine Shield
	PQR_AddToSpellDelayList(6940, 0, 1) --Hand of Sacrifice
	PQR_AddToSpellDelayList(79634, 58146, 1) --Golem&amp;apos;s Strength (spellID, itemID, delay)
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>--Special: Heroic Will</Name><Default>false</Default><SpellID>0</SpellID><Actions>/click ExtraActionButton1</Actions><Lua>local altDown = IsAltKeyDown()
local sDivineShield = UnitBuffID(&amp;quot;player&amp;quot;, 642)

if altDown == nil then
    local spellHourOfTwilight = GetSpellInfo(109417)
    local channelSpell, _, _, _, _, endTime = UnitCastingInfo(&amp;quot;boss1&amp;quot;)
    if channelSpell ~= nil and channelSpell == spellHourOfTwilight then
        local finishTime = endTime/1000 - GetTime()
        if finishTime &amp;lt; 1 and sDivineShield == nil then
            return true
        end
    end
end

local sFadingLight, _, _, _, _, _, fadingEndTime = UnitDebuffID(&amp;quot;player&amp;quot;, 110068)
if sFadingLight then
    local finishTime = fadingEndTime - GetTime()
    if finishTime &amp;lt; 1.4 then
        return true
    end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>LOH Mouseover &amp;lt; 20%</Name><Default>false</Default><SpellID>633</SpellID><Actions></Actions><Lua>if UnitExists(&amp;quot;mouseover&amp;quot;) and UnitIsFriend(&amp;quot;player&amp;quot;, &amp;quot;mouseover&amp;quot;) then
	local targetHP = UnitHealth(&amp;quot;mouseover&amp;quot;) / UnitHealthMax(&amp;quot;mouseover&amp;quot;) * 100
	local shiftDown = IsLeftShiftKeyDown()
	if targetHP &amp;lt;= 20 and shiftDown then
		return true
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Mouseover</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>--- Latency Changer ---</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local minValue = 0.05
local maxValue = 0.3
local curPing = tonumber((select(3,GetNetStats()) + select(4,GetNetStats())) / 1000) + .025

if curPing &amp;lt; minValue then
	curPing = minValue
elseif curPing &amp;gt; maxValue then
	curPing = maxValue
end

PQR_SpellAvailableTime = curPing</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Judgement (Out of Range)</Name><Default>false</Default><SpellID>20271</SpellID><Actions></Actions><Lua>--If out of range for crusader strike and HoW is not available.
local howName = GetSpellInfo(24275)
local csName = GetSpellInfo(35395)

--if HOW is available do not cast Judgement.
if PQR_SpellAvailable(24275) then
	return false
end

--if CS is out of range then return true.
if IsSpellInRange(csName, &amp;quot;target&amp;quot;) == 0 then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Hammer of Wrath (OOR)</Name><Default>false</Default><SpellID>24275</SpellID><Actions></Actions><Lua>--If out of range for crusader strike and HoW is not available.
local howName = GetSpellInfo(24275)
local csName = GetSpellInfo(35395)

--if CS is out of range...
if IsSpellInRange(csName, &amp;quot;target&amp;quot;) == 0 then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>- Offensive Spells -</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local inCombat = UnitAffectingCombat(&amp;quot;player&amp;quot;)
if inCombat == nil then 
	inCombat = UnitAffectingCombat(&amp;quot;pet&amp;quot;)
end

if inCombat == nil then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>- IsMounted -</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if IsMounted() then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Burning Tendons</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>RunMacroText(&amp;quot;/cancelaura Parachute&amp;quot;)

if UnitExists(&amp;quot;boss2&amp;quot;) and UnitName(&amp;quot;boss2&amp;quot;) == &amp;quot;Burning Tendons&amp;quot; then
	if UnitName(&amp;quot;target&amp;quot;) ~= &amp;quot;Burning Tendons&amp;quot; then
		RunMacroText(&amp;quot;/cast Avenging Wrath&amp;quot;)
		RunMacroText(&amp;quot;/cast Zealotry&amp;quot;)
		RunMacroText(&amp;quot;/use 14&amp;quot;)
	end
	TargetUnit(&amp;quot;boss2&amp;quot;)
end
if UnitExists(&amp;quot;boss3&amp;quot;) and UnitName(&amp;quot;boss3&amp;quot;) == &amp;quot;Burning Tendons&amp;quot; then
	if UnitName(&amp;quot;target&amp;quot;) ~= &amp;quot;Burning Tendons&amp;quot; then
		RunMacroText(&amp;quot;/cast Avenging Wrath&amp;quot;)
		RunMacroText(&amp;quot;/cast Zealotry&amp;quot;)
		RunMacroText(&amp;quot;/use 14&amp;quot;)
	end
	TargetUnit(&amp;quot;boss3&amp;quot;)
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Aura Switcher</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local playerForm = GetShapeshiftForm()
local playerCombat = UnitAffectingCombat(&amp;quot;player&amp;quot;)
local playerMounted = IsMounted()

if PQ_LastForm == nil then
	PQ_LastForm = 0
end

if playerMounted and not playerCombat then
	if playerForm ~= 5 then
		PQ_LastForm = playerForm
		CastShapeshiftForm(5)
	end
else
	if playerForm == nil or playerForm == 5 then
		--switch back.
		if PQ_LastForm == 0 then
			CastShapeshiftForm(4)
		else
			CastShapeshiftForm(PQ_LastForm)
		end
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability></PALADIN>