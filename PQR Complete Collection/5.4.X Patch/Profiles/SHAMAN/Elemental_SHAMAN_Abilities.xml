<?xml version="1.0" encoding="utf-8" ?><SHAMAN><Ability><Name>-- Start Fight --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if IsMounted()
or SpellIsTargeting()
or UnitBuffID(&amp;quot;player&amp;quot;,5384)
or UnitInVehicle(&amp;quot;player&amp;quot;)
or UnitIsDead(&amp;quot;target&amp;quot;) 
or UnitIsDead(&amp;quot;player&amp;quot;)
or UnitBuffID(&amp;quot;player&amp;quot;, 77769)
or not UnitAffectingCombat(&amp;quot;player&amp;quot;) then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Lightning Bolt</Name><Default>false</Default><SpellID>403</SpellID><Actions></Actions><Lua>return true</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Lava Burst</Name><Default>false</Default><SpellID>51505</SpellID><Actions></Actions><Lua>local flameshock = UnitDebuffID(&amp;quot;target&amp;quot;,8050,&amp;quot;PLAYER&amp;quot;) 

if flameshock then
	return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Main Hand</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local hwv, hwd  = GetWeaponEnchantInfo()

if hwv ~= 1 then
	CastSpellByID(8024)
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Flame Shock</Name><Default>false</Default><SpellID>8050</SpellID><Actions></Actions><Lua>local debufftimer = select(7,UnitDebuffID(&amp;quot;target&amp;quot;,8050,&amp;quot;PLAYER&amp;quot;)) 

if not debufftimer 
or debufftimer - GetTime() &amp;lt; 7  

then
return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Lightning Shield</Name><Default>false</Default><SpellID>324</SpellID><Actions></Actions><Lua>if UnitBuffID( &amp;quot;player&amp;quot;, 324 ) == nil then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Stormlash Totem</Name><Default>false</Default><SpellID>120668</SpellID><Actions></Actions><Lua>if UseCD
and AutoStormlash then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Searing Totem</Name><Default>false</Default><SpellID>3599</SpellID><Actions></Actions><Lua>local arg1, totemName, startTime, duration = GetTotemInfo( 1 )
local est_dur = startTime+duration-GetTime() 

if totemName == tostring(GetSpellInfo(2894)) then 
	return false	
end

if AoE == false	then
	if totemName ~= tostring(GetSpellInfo(3599)) then
		return true
	end
	if est_dur &amp;lt; 1 then
		return true
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Fire Ele</Name><Default>false</Default><SpellID>2894</SpellID><Actions></Actions><Lua>if UseCD 
and EleTotems then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Elemental Blast</Name><Default>false</Default><SpellID>117014</SpellID><Actions></Actions><Lua>Ascendance = UnitBuffID(&amp;quot;player&amp;quot;, 114050)
if not Ascendance then

return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Earth Shock</Name><Default>false</Default><SpellID>8042</SpellID><Actions></Actions><Lua>local arg1, arg2, arg3, arg4 = UnitBuffID( &amp;quot;player&amp;quot;, 324 )

	if arg1 ~= nil then

		if arg4 &amp;gt;= 5 then
		
			return true

		end

	end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Earth Ele</Name><Default>false</Default><SpellID>2062</SpellID><Actions></Actions><Lua>if UseCD 
and EleTotems then

	return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Healing : Healing Surge</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local myHp = 100 * UnitHealth(&amp;quot;player&amp;quot;) / UnitHealthMax(&amp;quot;player&amp;quot;)

if HealMode then

if myHp &amp;lt; hsHp then
    CastSpellByName(GetSpellInfo(8004), &amp;quot;player&amp;quot;)
end

if PQR_SpellAvailable(8004) then
	for i=1, #members do
		if members[i].HP &amp;lt; hsHp 
		and PQR_IsOutOfSight(members[i].Unit) == false 
		and IsSpellInRange(GetSpellInfo(8004), members[i].Unit) == 1 
		and not UnitIsEnemy(members[i].Unit, &amp;quot;player&amp;quot;) then
			CastSpellByName(GetSpellInfo(8004), members[i].Unit)
		end
	end
end

end</Lua><RecastDelay>0</RecastDelay><Target>Custom</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Healing : Healing Stream Totem</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if PQR_SpellAvailable(5394) then
	for i=1, #members do
		if members[i].HP &amp;lt; hstHp 
		and PQR_IsOutOfSight(members[i].Unit) == false 
		and IsSpellInRange(GetSpellInfo(8004), members[i].Unit) == 1 
		and not UnitIsEnemy(members[i].Unit, &amp;quot;player&amp;quot;) then
			CastSpellByName(GetSpellInfo(5394))
		end
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Lightning Bolt(Mov)</Name><Default>false</Default><SpellID>403</SpellID><Actions></Actions><Lua>if  PQR_IsMoving(1)then

return true
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Lava Burst(Moving)</Name><Default>false</Default><SpellID>51505</SpellID><Actions></Actions><Lua>local LavaSurge =  UnitBuffID( &amp;quot;player&amp;quot;, 77762 )
local movecastthing =  UnitBuffID( &amp;quot;player&amp;quot;, 79206 )
local flameshock = UnitDebuffID(&amp;quot;target&amp;quot;,8050,&amp;quot;PLAYER&amp;quot;)

if PQR_IsMoving(1)
and flameshock
and LavaSurge 
or movecastthing
then

return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Elemental Blast(Moving)</Name><Default>false</Default><SpellID>117014</SpellID><Actions></Actions><Lua>local Ascendance = UnitBuffID(&amp;quot;player&amp;quot;, 114050)
local movecastthing =  UnitBuffID( &amp;quot;player&amp;quot;, 79206 )


if not Ascendance 
and PQR_IsMoving(1)
and movecastthing
then

return true

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>--- Init ---</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>-- PQInterface is an absolute requirement from now on.
if not IsAddOnLoaded(&amp;quot;PQInterface&amp;quot;) then
	PQR_WriteToChat(&amp;quot;|cffDC143CPQInterface is required to run this profile!|cffffffff&amp;quot;, &amp;quot;Warning&amp;quot;)
	PQR_WriteToChat(&amp;quot;|cffDC143CThe profile has been stopped.|cffffffff&amp;quot;, &amp;quot;Warning&amp;quot;)
	PQR_StopRotation()
end

-- Load LUA data files.
if PQR_RotationStarted then
	PQR_RotationStarted = false
	StatusReport = true
	
	-- Load required data files
	if PQR_LoadLua ~= nil then
		if PQR_LoadLua(&amp;quot;PQR_Cpoworks_Data.lua&amp;quot;) == false then
			PQR_WriteToChat(&amp;quot;|cffb73737You&amp;apos;re missing PQR_Cpoworks_Data.lua - Make sure it&amp;apos;s in your Data folder! The Rotation has been halted.|cffffffff&amp;quot;, &amp;quot;Error&amp;quot;)
			PQR_StopRotation()
			return true
		end
		if PQR_LoadLua(&amp;quot;PQR_PQI.lua&amp;quot;) == false then
			PQR_WriteToChat(&amp;quot;|cffb73737You&amp;apos;re missing PQR_PQI.lua - It&amp;apos;s required to run the profile! The Rotation has been halted.|cffffffff&amp;quot;, &amp;quot;Error&amp;quot;)
			PQR_StopRotation()
			return true
		end
	end
end

 
-- OPTIONS -- 
hsHp = PQI_CpoworksElemental_HealingSurge_value
hstHp = PQI_CpoworksElemental_HealingStream_value
HealMode = PQI_CpoworksElemental_EnableHealing_enable
AutoStormlash = PQI_CpoworksElemental_AutoStormlash_enable
EleTotems = PQI_CpoworksElemental_EnableFireandEarthEle_enable
OldAoE = PQI_CpoworksElemental_OldAoEMode_enable

GroupInfo() 

--Keybinds
AoEKey	 			= PQI:IsHotkeys(PQI_CpoworksElemental_AoEMode_key) 
DefenciveKey		= PQI:IsHotkeys(PQI_CpoworksElemental_Defencives_key) 
CooldownsKey		= PQI:IsHotkeys(PQI_CpoworksElemental_Cooldowns_key)
PauseKey			= PQI:IsHotkeys(PQI_CpoworksElemental_Pause_key)

--					= IsMouseButtonDown(3)  --When you push down the scroll button on mouse(usually)
EarthquakeKey		= IsMouseButtonDown(4)  --MouseButton4 depends on mouse
HexKey				= IsMouseButtonDown(5)  --MouseButton5 depends on mouse




--Do Not Touch anything below
if not EleLoaded then
function SpecialAggro(t)
	local mob = {&amp;quot;Dreadlord Debilitator&amp;quot;, &amp;quot;Blistering Tentacle&amp;quot;, &amp;quot;Young Egg of Ji-Kun&amp;quot;, &amp;quot;Mature Egg of Ji-Kun&amp;quot;, &amp;quot;Living Fluid&amp;quot;,
	 &amp;quot;Terror Spawn&amp;quot;, &amp;quot;Energy Charge&amp;quot;, &amp;quot;Cosmic Spark&amp;quot;, &amp;quot;Empyreal Focus&amp;quot;, &amp;quot;Spirit Totem&amp;quot;, &amp;quot;Soul Fragment&amp;quot;, &amp;quot;Shadowy Minion&amp;quot;,
			&amp;quot;Training Dummy&amp;quot;, &amp;quot;Raider&amp;apos;s Training Dummy&amp;quot;, &amp;quot;Twisted Spirit&amp;quot;, &amp;quot;AmaniÃƒÂ¯Ã‚Â¿Ã‚Â½shi Hatcher&amp;quot;, 
            &amp;quot;Hakkar&amp;apos;s Chains&amp;quot;, &amp;quot;Exposed Head of Magmaw&amp;quot;, &amp;quot;Battleground Demolisher&amp;quot;, &amp;quot;Ozumat&amp;quot;, 
            &amp;quot;Right Foot&amp;quot;, &amp;quot;Left Foot&amp;quot;, &amp;quot;Icy Tomb&amp;quot;, &amp;quot;Risen Ghoul&amp;quot;, &amp;quot;Mana Void&amp;quot;, &amp;quot;Burning Tendons&amp;quot;, 
            &amp;quot;Wing Tentacle&amp;quot;, &amp;quot;Arm Tentacle&amp;quot;, &amp;quot;Twilight Assault Drake&amp;quot;, &amp;quot;Goriona&amp;quot;, &amp;quot;Ice Tomb&amp;quot;, 
            &amp;quot;Twilight Sapper&amp;quot;, &amp;quot;Dreadlord Debilitator&amp;quot;, &amp;quot;Blistering Tentacle&amp;quot; } 

	for i=1, #mob do 
		if UnitName(t) == mob[i] then 
			return true 
		end 
	end
end


	UseCD			= false
	AoE			= false
	EleLoaded		= true
	
end

--Pause
if PauseKey 
or IsMounted() 
then return true end


--Old AoE toggle
if OldAoE then
	if not aoekeydown then aoekeydown = 0 end
	if AoEKey and not GetCurrentKeyBoardFocus() and GetTime() - aoekeydown &amp;gt; 1 then
		aoekeydown = GetTime()
		if not AoE then
			AoE = &amp;quot;AoE_1&amp;quot;
			PQR_WriteToChat(&amp;quot;AoE Mode: |cFF00FF001-3&amp;quot;)
			PQR_Event(&amp;quot;PQR_Text&amp;quot;,&amp;quot;AoE: Enabled&amp;quot;,nil,&amp;quot;00FF00&amp;quot;)
		elseif AoE == &amp;quot;AoE_1&amp;quot; then
			AoE = &amp;quot;AoE_2&amp;quot;
			PQR_WriteToChat(&amp;quot;AoE Mode: |cFF00FF004+&amp;quot;)
			PQR_Event(&amp;quot;PQR_Text&amp;quot;,&amp;quot;AoE: Enabled&amp;quot;,nil,&amp;quot;00FF00&amp;quot;)
		else
			AoE = false
			PQR_WriteToChat(&amp;quot;AoE: |cFFFF0000Disabled&amp;quot;)
			PQR_Event(&amp;quot;PQR_Text&amp;quot;,&amp;quot;AoE: Disabled&amp;quot;,nil,&amp;quot;FF0000&amp;quot;)
		end
	end
end



--Cooldowns
if not controllkeydown then controllkeydown = 0 end
if CooldownsKey and GetTime() - controllkeydown &amp;gt; 1 then
	controllkeydown = GetTime()
  	if UseCD  then 
   		UseCD = false 
		PQR_WriteToChat(&amp;quot;Cooldowns: |cFFFF0000Disabled&amp;quot;)
		PQR_Event(&amp;quot;PQR_Text&amp;quot;,&amp;quot;Cooldowns: Disabled&amp;quot;,nil,&amp;quot;FF0000&amp;quot;)  		
	else 
		UseCD = true 
		PQR_WriteToChat(&amp;quot;Cooldowns: |cFF00FF00Enabled&amp;quot;)
		PQR_Event(&amp;quot;PQR_Text&amp;quot;,&amp;quot;Cooldowns: Enabled&amp;quot;,nil,&amp;quot;00FF00&amp;quot;)
  	end
end


--------------------
-- Slash Commands
--------------------
SLASH_STATUS1 = &amp;quot;/status&amp;quot;
SLASH_STATUS2 = &amp;quot;/pqrstatus&amp;quot;
function SlashCmdList.STATUS(msg, editbox)
	PQR_status()
end</Lua><RecastDelay>0</RecastDelay><Target>Player</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Lava Beams</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local Ascendance = UnitBuffID(&amp;quot;player&amp;quot;, 114050)

if AoE ~= false then 		
  if Ascendance then
  	CastSpellByName(tostring(GetSpellInfo(114074)))
  	return true
  end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Chain Lightning</Name><Default>false</Default><SpellID>421</SpellID><Actions></Actions><Lua>local Ascendance = UnitBuffID(&amp;quot;player&amp;quot;, 114050)

if AoE ~= false
and not Ascendance then
  return true 
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>-- Status --</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if StatusReport then
	PQR_status()
	StatusReport = false
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Cooldowns</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local _, talent = GetTalentRowSelectionInfo(4)
local Ascendance = UnitBuffID(&amp;quot;player&amp;quot;, 114050)
local AscendanceAvil = PQR_SpellAvailable(114049)
local Beserk = IsSpellKnown(26297)
local BeserkAvil = PQR_SpellAvailable(26297)
local Orc = IsSpellKnown(33697)
local OrcAvil = PQR_SpellAvailable(33697)


--Troll racial
if UseCD
and Beserk
and BeserkAvil then
	CastSpellByName(tostring(GetSpellInfo(26297)))
end

--Orc racial
if UseCD
and Orc
and OrcAvil then
	CastSpellByName(tostring(GetSpellInfo(33697)))
end


if UseCD then

-- Gloves
if GetInventoryItemCooldown(&amp;quot;player&amp;quot;,10) == 0 then 
		UseInventoryItem(10)
end

--Trinkets
if GetInventoryItemCooldown(&amp;quot;player&amp;quot;,13) == 0 then 
		UseInventoryItem(13)
end
if GetInventoryItemCooldown(&amp;quot;player&amp;quot;,14) == 0 then 
		UseInventoryItem(14)
end


	--Elem Mastery
	if talent == 10 
	and PQR_SpellAvailable(16166) then 
		CastSpellByName(tostring(GetSpellInfo(16166)))
	end
	--AS
	if talent == 11 
	and PQR_SpellAvailable(16188) then 
		CastSpellByName(tostring(GetSpellInfo(16188)))
	end
	--Ascendance
	if not Ascendance 
	and AscendanceAvil then
	
	--Use totems first to maximise ascendance uptime.
	if (PQR_SpellAvailable(2894)and EleTotems)
	or (PQR_SpellAvailable(2062)and EleTotems)
	or (PQR_SpellAvailable(120668)and AutoStormlash) then
		return false
	end
	
	CastSpellByName(tostring(GetSpellInfo(114049)))
	end
		
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Defensives</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if DefenciveKey then	
  CastSpellByName(tostring(GetSpellInfo(108271)))
  CastSpellByName(tostring(GetSpellInfo(30823)))
  return true 
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : AoE 4+</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local Ascendance = UnitBuffID(&amp;quot;player&amp;quot;, 114050)

if OldAoE
and AoE == &amp;quot;AoE_2&amp;quot; then 	
	if Ascendance then
  		CastSpellByName(tostring(GetSpellInfo(114074)))
  		return true
  	else
  		CastSpellByName(tostring(GetSpellInfo(421)))
  		return true
  	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Purge</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local purgeThis2 = {
117283, -- Corrupted water (Protectors)
122149, -- Quickening (Wind Lord)
117697 -- Shield of Darkness (Spirit Kings)

}


if UnitExists(&amp;quot;target&amp;quot;) then
for i=1, #purgeThis2 do
if UnitBuffID(&amp;quot;target&amp;quot;, purgeThis2[i]) ~= nil
and PQR_IsOutOfSight(&amp;quot;target&amp;quot;, 0.1) == false
and IsSpellInRange(&amp;quot;Purge&amp;quot;, &amp;quot;target&amp;quot;) == 1 then
RunMacro(&amp;quot;/stopcasting&amp;quot;)
CastSpellByID(370, &amp;quot;target&amp;quot;)
end
end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Magma Totem</Name><Default>false</Default><SpellID>8190</SpellID><Actions></Actions><Lua>local arg1, totemName, startTime, duration = GetTotemInfo( 1 )
local est_dur = startTime+duration-GetTime() 

if totemName == tostring(GetSpellInfo(2894)) then 
	return false	
end

if AoE ~= false then 
	if inMelee() ~= nil then
		if totemName ~= tostring(GetSpellInfo(8190)) then
			return true
		end
	
		if est_dur &amp;lt; 1 then
			return true
		end
	else
		if est_dur &amp;lt; 1 then
			CastSpellByName(tostring(GetSpellInfo(3599)))
		end	
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>All : Hex</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if HexKey then 
	if UnitExists(&amp;quot;focus&amp;quot;)
	and UnitCanAttack(&amp;quot;player&amp;quot;,&amp;quot;focus&amp;quot;) ~= nil
	and PQR_IsOutOfSight(&amp;quot;focus&amp;quot;, 0.1) == false
	and IsSpellInRange(GetSpellInfo(51514), &amp;quot;focus&amp;quot;) == 1 then
		CastSpellByName(GetSpellInfo(51514), &amp;quot;focus&amp;quot;)
		return true
	end
	
	
	if UnitExists(&amp;quot;mouseover&amp;quot;)
	and UnitCanAttack(&amp;quot;player&amp;quot;,&amp;quot;mouseover&amp;quot;) ~= nil
	and PQR_IsOutOfSight(&amp;quot;mouseover&amp;quot;, 0.1) == false
	and IsSpellInRange(GetSpellInfo(51514), &amp;quot;mouseover&amp;quot;) == 1 then
		CastSpellByName(GetSpellInfo(51514), &amp;quot;mouseover&amp;quot;)
		return true
	end

end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : Earthquake</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if EarthquakeKey then
	if IsSpellKnown(61882) then
		CastSpellByName(GetSpellInfo(61882))
		if SpellIsTargeting() then CameraOrSelectOrMoveStart() CameraOrSelectOrMoveStop() end  
		return true 
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Ele : AoE</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>local Ascendance = UnitBuffID(&amp;quot;player&amp;quot;, 114050)
local LavaSurge =  UnitBuffID( &amp;quot;player&amp;quot;, 77762 )


if not OldAoE
and AoEKey
and not GetCurrentKeyBoardFocus() then 	
	if LavaSurge then
		CastSpellByName(tostring(GetSpellInfo(51505)))
		return true
	end
	if Ascendance then
  		CastSpellByName(tostring(GetSpellInfo(114074)))
  		return true
  	else
  		CastSpellByName(tostring(GetSpellInfo(421)))
  		return true
  	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability></SHAMAN>