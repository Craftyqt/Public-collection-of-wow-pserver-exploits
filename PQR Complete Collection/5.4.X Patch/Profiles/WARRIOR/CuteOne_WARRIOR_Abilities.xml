<?xml version="1.0" encoding="utf-8" ?><WARRIOR><Ability><Name>Execute</Name><Default>false</Default><SpellID>5308</SpellID><Actions></Actions><Lua>if incom and thp &amp;lt;= 20 and pow&amp;gt;=30 and check(ex) then
	cast(gsi(ex))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Berserker Rage</Name><Default>false</Default><SpellID>18499</SpellID><Actions></Actions><Lua>if incom and check(br) and not ubid(p,erg) and cd(gsi(ms))~=0 and cd(gsi(cs))~=0 then 
	cast(gsi(br))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Colossus Smash</Name><Default>false</Default><SpellID>86346</SpellID><Actions></Actions><Lua>if incom and check(cs) then
	if not udbid(t,cs) then
		cast(gsi(cs))
	end
	if udbid(t,cs) and cst&amp;lt;=1.5 then
		cast(gsi(cs))
	end
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Heroic Strike</Name><Default>false</Default><SpellID>78</SpellID><Actions></Actions><Lua>--if incom and thp&amp;gt;=20 and sir(gsi(ms),t)==1 and pow&amp;gt;=30 then
--	if ubid(p,tfbb) then
--		if tfbr&amp;lt;=0.9 and tfbc&amp;gt;=4 then
--			cast(gsi(hs))
--		end
--		if tfbc==5 then
--			cast(gsi(hs))
--		end
--	end
--	if pow&amp;gt;=100 and not ubid(p,tfbb) then
--		cast(gsi(hs))
--	end
--end

if incom and sir(gsi(ms),t)==1 and pow&amp;gt;=70 and smashed==1 and cd(hs)==0 then
	cast(gsi(hs))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Dragon Roar</Name><Default>false</Default><SpellID>118000</SpellID><Actions></Actions><Lua>if incom and sir(gsi(ms),t) == 1 and (smashed==1 or cd(gsi(cs))&amp;gt;=1.5) and check(dr) then
	cast(gsi(dr))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Battle Shout</Name><Default>false</Default><SpellID>6673</SpellID><Actions></Actions><Lua>if not ubid(p,bs) and check(bs) then
    cast(gsi(bs)) 
end
if ubid(p,bs) and check(bs) and pow&amp;lt;=80 then
	cast(gsi(bs))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Whirlwind</Name><Default>false</Default><SpellID>1680</SpellID><Actions></Actions><Lua>if incom and pow&amp;gt;=30 and sir(gsi(ms),t)==1 then
	cast(gsi(ww))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Cleave</Name><Default>false</Default><SpellID>845</SpellID><Actions></Actions><Lua>--if thp &amp;gt;= 20 and udbid(t,cs) then
--	if (ubid(p,tfb) and tfbr &amp;lt;= 0.9) or (tfbc == 5 and check(op)) or (ubid(p,cs) and cst &amp;lt;= 2 and cd(gsi(cs)) &amp;gt; 0) then 
--		cast(gsi(clv))
--	elseif ubid(p,dc) or pow &amp;gt;= 100	then 
--		cast(gsi(clv))
--	end
--end
if incom and sir(gsi(ms),t)==1 and pow&amp;gt;=70 and smashed==1 and cd(clv)==0 then
	cast(gsi(clv))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Mortal Strike</Name><Default>false</Default><SpellID>12294</SpellID><Actions></Actions><Lua>if incom and check(ms) then
	cast(gsi(ms))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Overpower</Name><Default>false</Default><SpellID>7384</SpellID><Actions></Actions><Lua>if incom and check(op) and pow&amp;gt;=10 then
	cast(gsi(op))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Slam</Name><Default>false</Default><SpellID>1464</SpellID><Actions>/cast Lifeblood(Rank 8)</Actions><Lua>if incom and check(sl) and pow&amp;gt;=40 and thp &amp;gt; 20 then
	cast(gsi(sl))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Thunderclap</Name><Default>false</Default><SpellID>6343</SpellID><Actions></Actions><Lua>if incom and pow&amp;gt;=20 and wbr&amp;lt;=15 then
	cast(gsi(tc))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Sweeping Strikes</Name><Default>false</Default><SpellID>12328</SpellID><Actions></Actions><Lua>if pow&amp;gt;=30 and check(sw) and sir(gsi(ms),t)==1 then
	cast(gsi(sw))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Initial</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if PQR_RotationStarted == true then
  PQR_RotationStarted = false
  if PQR_LoadLua ~= nil
  then
   		if PQR_LoadLua(&amp;quot;PQR_CuteOne.lua&amp;quot;) == false
   		then 
      			PQR_WriteToChat(&amp;quot;Put PQR_CuteOne.lua in the data folder.&amp;quot;, &amp;quot;Error&amp;quot;)
      			PQR_StopRotation()
       			return true
  		end
  end
end

------VARIABLES------
t = &amp;quot;target&amp;quot;
p = &amp;quot;player&amp;quot;
foc = &amp;quot;focus&amp;quot;
gsi = GetSpellInfo
cast = CastSpellByName
cd = GetSpellCooldown
cp = GetComboPoints(p)
ub = UnitBuff
ubid = UnitBuffID
ua = UnitAura
udb = UnitDebuff
udbid = UnitDebuffID
pow = UnitPower(p)
hastar = UnitExists(t)
canattack =  UnitCanAttack(p,t)
sir = IsSpellInRange
incom = UnitAffectingCombat(p)==1
outcom = UnitAffectingCombat(p)~=1
php = 100*(UnitHealth(p)/UnitHealthMax(p))
thp = 100*(UnitHealth(t)/UnitHealthMax(t))
tthp = UnitHealthMax(t)
pchannel = select(8,UnitChannelInfo(p))
pcasting = (UnitCastingInfo(p) and select(9,UnitCastingInfo(p)))
tchannel = select(8,UnitChannelInfo(t))
tcasting = (UnitCastingInfo(t) and select(9,UnitCastingInfo(t)))
if select(6,UnitCastingInfo(t))~=nil then 
	tcasttime = (select(6,UnitCastingInfo(t))/1000)-GetTime()
else
	tcasttime = 0
end

if not behindCheck then
	behindCheck = CreateFrame(&amp;quot;Frame&amp;quot;)
end
local frame = behindCheck
frame:RegisterEvent(&amp;quot;UI_ERROR_MESSAGE&amp;quot;)
frame:SetScript(&amp;quot;OnEvent&amp;quot;, function(self, event, ...)
	local msg = select(1, ...)
	if (msg:find(&amp;quot;behind&amp;quot;) ~= nil) then
		behind=false
	else
		behind=true
	end
end)

------ABILITIES-------
av		=	107574	--Avatar
bs		=	6673 	--Battle Shout
btls	= 	2457 	--Battle Stance
br		= 	18499 	--Berserker Rage
bers	=	2458 	--Berserker Stance
bb		=	12292 	--Bloodbath
chrg	=	100 	--Charge
clv		=	845 	--Cleave
cs		= 	86346 	--Colossus Smash
cmds	= 	469 	--Commanding Shout
dc		=	85730 	--Deadly Calm
defs 	=	71		--Defensive Stance
dm		=	114203	--Demoralizing Banner
dbts 	= 	118038	--Die by the Sword
darm	= 	676 	--Disarm
ds 		= 	102060	--Disrupting Shout
dr		=	118000	--Dragon Roar
er		=	55694	--Enraged Regeneration
ex		=	5308	--Execute
ham		=	1715	--Hamstring
hl		=	6544	--Heroic Leap
hs		=	78		--Heroic Strike
ht		=	57755	--Heroic Throw
iv		=	3411	--Intervene
is		=	5246	--Intimidating Shout
imp		=	103840	--Impending Victory
mb		=	114192	--Mocking Banner
msr		=	114028	--Mass Spell Reflection
ms 		= 	12294 	--Mortal Strike
op		=	7384	--Overpower
pm		=	6552	--Pummel
rc		=	97462	--Rallying Cry
rk		=	1719	--Recklessness
sh		=	46968	--Shockwave
st		=	64382	--Shattering Throw
sw		=	871		--Shield Wall
sb		=	114207	--Skull Banner
sbt		=	107570	--Storm Bolt
sl		=	1464	--Slam
sr		=	23920	--Spell Reflection
sa		=	7386	--Sunder Armor
sw		=	12328	--Sweeping Strikes
tnt		=	355		--Taunt
tc		=	6343	--Thunder Clap
vr		=	34428	--Victory Rush
ww		=	1680	--Whirlwind

------Passives/Buffs/Debuffs------
dw		=	115768 	--Deep Wounds
erg		=	13046	--Enrage
sd		=	29725	--Sudden Death
tfb		=	56638	--Taste for Blood
tfbb	=	125831	--Taste for Blood Buff
wb		=	115798	--Weakend Blows

-----Tracking------
if udbid(t,wb,p) then
	wbr = (select(7, udbid(t,wb,p)) - GetTime())
else
	wbr = 0
end
-- _, _, _, tfbstack = ubid(p, tfb)
--if tfbstack==nil then
--	tfbc = 0
--else 
--	tfbc = tfbstack
--end
--if ubid(p,tfbb) then
--	tfbr = (select(7, ubid(p,tfbb)) - GetTime())
--else
--	tfbr = 0
--end
if smashed==nil then
	smashed=0
end
if udbid(t,cs) then
	smashed = 1
	cst = (select(7, udbid(t,cs)) - GetTime())
else
	smashed = 0
	cst = 0
end


-- AoE/Single Switch
if IsRightShiftKeyDown() and not GetCurrentKeyBoardFocus() and GetTime() - PQ_AOETimer &amp;gt; 1 then
	PQ_AOETimer = GetTime()
	
	if PQ_AOE then
		PQ_AOE = false
		PQR_SwapRotation(&amp;quot;Arms Single (CuteOne)&amp;quot;)
	else
		PQ_AOE = true
		PQR_SwapRotation(&amp;quot;Arms AOE (CuteOne)&amp;quot;)
	end
end

------Ability Keys------
--HLeapKey = IsLeftShiftKeyDown()
--dpsCDs = IsLeftAltKeyDown()</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Heroic Throw</Name><Default>false</Default><SpellID>57755</SpellID><Actions></Actions><Lua>if incom and (smashed==1 or cd(cs)&amp;gt;=1.5) and check(ht) then
	cast(gsi(ht))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Charge</Name><Default>false</Default><SpellID>100</SpellID><Actions></Actions><Lua>if hastar and check(chrg) then
	cast(gsi(chrg))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Interrupts</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if check(pm) and ((tcasting==false and tcasttime&amp;lt;5) or tchannel==false) then
	cast(gsi(pm),t)
elseif check(ds) and cd(pm)~=0 and ((tcasting==false and tcasttime&amp;lt;5) or tchannel==false) then
   cast(gsi(ds),t) 
end
if incom and check(sh) then
	cast(gsi(sh))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Recklessness</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if incom and SpecialUnit() and (smashed==1 or cd(gsi(cs))&amp;gt;=1.5) and pow&amp;gt;=75 and sir(gsi(ms),t)==1 and check(rk) then
	cast(gsi(rk))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Skull Banner</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if incom and SpecialUnit() and (smashed==1 or cd(gsi(cs))&amp;gt;=1.5) and cd(gsi(sb))==0 and cd(gsi(rk))&amp;gt;=120 and sir(gsi(ms),t)==1 then
	cast(gsi(sb))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Tier 6</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if incom and (smashed==1 or cd(gsi(cs))&amp;gt;=1.5) and check(bb) and cd(gsi(rk))&amp;gt;=60 then
	cast(gsi(bb))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Pause</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if IsLeftAltKeyDown() 
or IsMounted()
or SpellIsTargeting()
or not UnitExists(&amp;quot;Target&amp;quot;)
or UnitBuffID(&amp;quot;Player&amp;quot;,80169)
or UnitBuffID(&amp;quot;Player&amp;quot;,87959)
or UnitChannelInfo(&amp;quot;Player&amp;quot;) 
or UnitIsDeadOrGhost(&amp;quot;Player&amp;quot;) 
or UnitIsDeadOrGhost(&amp;quot;Target&amp;quot;)
or not UnitAffectingCombat(&amp;quot;Player&amp;quot;)
then return true end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Defensive</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if php&amp;lt;=80 and check(vr) then
	cast(gsi(vr))
end
if php&amp;lt;=80 and pow&amp;gt;=10 and check(imp) then
	cast(gsi(imp))
end
if ubid(p,erg) and php&amp;lt;=50 and check(er) then
	cast(gsi(er))
end
if php&amp;lt;=25 and check(dbts) then
	cast(gsi(dbts))
end
if php&amp;lt;=15 and check(rc) then
	cast(gsi(rc))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Stormbolt</Name><Default>false</Default><SpellID>0</SpellID><Actions></Actions><Lua>if incom and pow&amp;lt;=90 and check(sbt) then
	cast(gsi(sbt))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Hamstring</Name><Default>false</Default><SpellID>100</SpellID><Actions></Actions><Lua>if incom and check(ham) and not udbid(t,ham) and not SpecialUnit() then
	cast(gsi(ham))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Heroic Leap</Name><Default>false</Default><SpellID>57755</SpellID><Actions></Actions><Lua>if IsLeftShiftKeyDown() then 
	SpellStopCasting() 
end
if (outcom or smashed==1) and cd(hl)==0 and IsLeftShiftKeyDown() and GetCurrentKeyBoardFocus()==nil then 
	cast(gsi(hl))
	if SpellIsTargeting() then 
		CameraOrSelectOrMoveStart() 
		CameraOrSelectOrMoveStop() 
	end 
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>True</CancelChannel><SkipUnknown>True</SkipUnknown></Ability><Ability><Name>Avatar</Name><Default>false</Default><SpellID>118000</SpellID><Actions></Actions><Lua>if incom and SpecialUnit() and (smashed==1 or cd(gsi(cs))&amp;gt;=1.5) and pow&amp;gt;=75 and sir(gsi(ms),t)==1 and check(av) then
	cast(gsi(av))
end</Lua><RecastDelay>0</RecastDelay><Target>Target</Target><CancelChannel>False</CancelChannel><SkipUnknown>True</SkipUnknown></Ability></WARRIOR>