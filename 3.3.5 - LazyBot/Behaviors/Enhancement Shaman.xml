<?xml version="1.0"?>
<Behavior>
  <CombatDistance>3</CombatDistance>
  <PullDistance>20</PullDistance>
  <PrePullDistance>25</PrePullDistance>
  <UseAutoAttack>True</UseAutoAttack>
  <SendPet>True</SendPet>
  <GlobalCooldown>1800</GlobalCooldown>
  <PrePullController>
    <Rule>
      <Name>Call of the Elements</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Call of the Elements</Name>
        <Bar>5</Bar>
        <Key>7</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>0</Value>
      </TickerCondition>
    </Rule>
  </PrePullController>
  <PullController>
    <Rule>
      <Name>Unleash Elements</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Unleash Elements</Name>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>15000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Flame Shock</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>1</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Flame Shock</Name>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>6000</Value>
      </TickerCondition>
    </Rule>
  </PullController>
  <CombatController>
    <Rule>
      <Name>Shamanistic Rage</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Shamanistic Rage</Name>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>35</Value>
      </HealthPowerCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>60000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Feral Spirit (If close to death)</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>1</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Feral Spirit</Name>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>40</Value>
      </HealthPowerCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>120000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Greater Healing Wave</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>2</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Greater Healing Wave</Name>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>51530</Value>
      </BuffCondition>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>60</Value>
      </HealthPowerCondition>
    </Rule>
    <Rule>
      <Name>Feral Spirit (If too many enemys)</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>3</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Feral Spirit</Name>
      </Action>
      <CombatCountCondition>
        <Condition>MoreThan</Condition>
        <Value>1</Value>
      </CombatCountCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>120000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Call of the Ancestors (If too many enemys)</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>4</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Call of the Ancestors</Name>
      </Action>
      <CombatCountCondition>
        <Condition>MoreThan</Condition>
        <Value>2</Value>
      </CombatCountCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>600000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Wind Shear</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>5</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Wind Shear</Name>
      </Action>
      <FunctionCondition>
        <Condition>Is</Condition>
        <ConditionTarget>Target</ConditionTarget>
        <ConditionFunction>Casting</ConditionFunction>
      </FunctionCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>6000</Value>
      </TickerCondition>
      <DistanceToTargetCondition>
        <Condition>LessThan</Condition>
        <Value>25</Value>
      </DistanceToTargetCondition>
    </Rule>
    <Rule>
      <Name>Unleash Elements</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>6</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Unleash Elements</Name>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>15000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Lava Lash</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>7</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Lava Lash</Name>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>10000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Stormstrike</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>8</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Stormstrike</Name>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>8000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Flame Shock</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>9</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Flame Shock</Name>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>6000</Value>
      </TickerCondition>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>8050</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Earth Shock</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>10</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Earth Shock</Name>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>6000</Value>
      </TickerCondition>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>8050</Value>
      </BuffCondition>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>8042</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Lightning Bolt</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>11</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Lightning Bolt</Name>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>53817,51530</Value>
      </BuffCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>20000</Value>
      </TickerCondition>
    </Rule>
  </CombatController>
  <BuffController>
    <Rule>
      <Name>Lightning Shield</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Lightning Shield</Name>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>324</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Windfury Weapon</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>1</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Windfury Weapon</Name>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>33757</Value>
      </BuffCondition>
      <TempEnchantCondition>
        <Condition>DoesNotHave</Condition>
        <Weapon>MainHand</Weapon>
      </TempEnchantCondition>
    </Rule>
    <Rule>
      <Name>Flametongue Weapon</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>2</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Flametongue Weapon</Name>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>10400</Value>
      </BuffCondition>
      <TempEnchantCondition>
        <Condition>DoesNotHave</Condition>
        <Weapon>OffHand</Weapon>
      </TempEnchantCondition>
    </Rule>
    <Rule>
      <Name>Flask of Enhancement</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>3</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Flask of Enhancement</Name>
        <Bar>4</Bar>
        <Key>3</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>79639</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Potion of Treasure Finding</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>4</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Potion of Treasure Finding</Name>
        <Bar>3</Bar>
        <Key>4</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>80263</Value>
      </BuffCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>1800000</Value>
      </TickerCondition>
    </Rule>
  </BuffController>
  <RestController>
    <Rule>
      <Name>Greater Healing Wave</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionSpell</Type>
        <Name>Greater Healing Wave</Name>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>60</Value>
      </HealthPowerCondition>
    </Rule>
  </RestController>
</Behavior>