<?xml version="1.0"?>
<Behavior>
  <CombatDistance>40</CombatDistance>
  <PullDistance>35</PullDistance>
  <PrePullDistance>40</PrePullDistance>
  <UseAutoAttack>False</UseAutoAttack>
  <SendPet>False</SendPet>
  <GlobalCooldown>1000</GlobalCooldown>
  <PrePullController>
    <Rule>
      <Name>Moonkin Form</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Moonkin Form</Name>
        <Bar>2</Bar>
        <Key>e</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>24858</Value>
      </BuffCondition>
    </Rule>
  </PrePullController>
  <PullController>
    <Rule>
      <Name>Roots</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Roots</Name>
        <Bar>3</Bar>
        <Key>4</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <FunctionCondition>
        <Condition>Not</Condition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionFunction>InCombat</ConditionFunction>
      </FunctionCondition>
      <DistanceToTargetCondition>
        <Condition>MoreThan</Condition>
        <Value>6</Value>
      </DistanceToTargetCondition>
    </Rule>
  </PullController>
  <CombatController>
    <Rule>
      <Name>SBeam</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>SBeam</Name>
        <Bar>2</Bar>
        <Key>7</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <FunctionCondition>
        <Condition>Is</Condition>
        <ConditionTarget>Target</ConditionTarget>
        <ConditionFunction>Casting</ConditionFunction>
      </FunctionCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>60000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Roots(Beam)</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>1</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Roots</Name>
        <Bar>3</Bar>
        <Key>4</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>81261</Value>
      </BuffCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>5000</Value>
      </TickerCondition>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>339</Value>
      </BuffCondition>
      <DistanceToTargetCondition>
        <Condition>MoreThan</Condition>
        <Value>5</Value>
      </DistanceToTargetCondition>
    </Rule>
    <Rule>
      <Name>Rejuvenation</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>2</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Rejuv</Name>
        <Bar>3</Bar>
        <Key>7</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>50</Value>
      </HealthPowerCondition>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>774</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Regrowth</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>3</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Regrowth</Name>
        <Bar>2</Bar>
        <Key>9</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>50</Value>
      </HealthPowerCondition>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>16870</Value>
      </BuffCondition>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>8936</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Lifebloom</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>4</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Lifebloom</Name>
        <Bar>3</Bar>
        <Key>2</Key>
        <Special>None</Special>
        <Times>3</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>40</Value>
      </HealthPowerCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>13000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Nourish</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Pet</ShouldTarget>
      <Priority>5</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Nourish</Name>
        <Bar>3</Bar>
        <Key>9</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>40</Value>
      </HealthPowerCondition>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>774,8936,33763</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Healing Touch</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>6</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Healing Touch</Name>
        <Bar>3</Bar>
        <Key>8</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>40</Value>
      </HealthPowerCondition>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>16870</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Healing Touch(Low hp)</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>7</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>HTouch</Name>
        <Bar>3</Bar>
        <Key>8</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>30</Value>
      </HealthPowerCondition>
    </Rule>
    <Rule>
      <Name>Moonkin Form</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>8</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Moonkin Form</Name>
        <Bar>2</Bar>
        <Key>e</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>24858</Value>
      </BuffCondition>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>MoreThan</Condition>
        <Value>55</Value>
      </HealthPowerCondition>
    </Rule>
    <Rule>
      <Name>Barkskin</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>9</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Barkskin</Name>
        <Bar>3</Bar>
        <Key>3</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <CombatCountCondition>
        <Condition>MoreThan</Condition>
        <Value>1</Value>
      </CombatCountCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>60000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Thorns</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>10</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Thorns</Name>
        <Bar>2</Bar>
        <Key>6</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <CombatCountCondition>
        <Condition>MoreThan</Condition>
        <Value>1</Value>
      </CombatCountCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>25000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Starfall</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>11</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Starfall</Name>
        <Bar>2</Bar>
        <Key>8</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <CombatCountCondition>
        <Condition>MoreThan</Condition>
        <Value>1</Value>
      </CombatCountCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>90000</Value>
      </TickerCondition>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>MoreThan</Condition>
        <Value>60</Value>
      </HealthPowerCondition>
    </Rule>
    <Rule>
      <Name>Typhoon</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>12</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Typhoon</Name>
        <Bar>2</Bar>
        <Key>0</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <DistanceToTargetCondition>
        <Condition>LessThan</Condition>
        <Value>6</Value>
      </DistanceToTargetCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>20000</Value>
      </TickerCondition>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>81261</Value>
      </BuffCondition>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>339</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Lifeblood</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Unchanged</ShouldTarget>
      <Priority>13</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Lifeblood</Name>
        <Bar>3</Bar>
        <Key>6</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>120000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>ISwarm</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>14</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>ISwarm</Name>
        <Bar>2</Bar>
        <Key>5</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>5570</Value>
      </BuffCondition>
      <HealthPowerCondition>
        <ConditionTarget>Target</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>MoreThan</Condition>
        <Value>10</Value>
      </HealthPowerCondition>
    </Rule>
    <Rule>
      <Name>Moonfire</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>15</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Moonfire</Name>
        <Bar>2</Bar>
        <Key>1</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>8921</Value>
      </BuffCondition>
      <BuffCondition>
        <ConditionTarget>Target</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>93402</Value>
      </BuffCondition>
      <HealthPowerCondition>
        <ConditionTarget>Target</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>MoreThan</Condition>
        <Value>10</Value>
      </HealthPowerCondition>
    </Rule>
    <Rule>
      <Name>Starsurge</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>16</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Starsurge</Name>
        <Bar>2</Bar>
        <Key>q</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>93400</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Innervate</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>17</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Innervate</Name>
        <Bar>3</Bar>
        <Key>1</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Mana</ConditionType>
        <Condition>LessThan</Condition>
        <Value>50</Value>
      </HealthPowerCondition>
      <TickerCondition>
        <Condition>Is</Condition>
        <Value>180000</Value>
      </TickerCondition>
    </Rule>
    <Rule>
      <Name>Wrath</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>18</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Wrath</Name>
        <Bar>2</Bar>
        <Key>2</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>48518</Value>
      </BuffCondition>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>67484</Value>
      </BuffCondition>
    </Rule>
    <Rule>
      <Name>Starfire</Name>
      <MatchAll>False</MatchAll>
      <ShouldTarget>Enemy</ShouldTarget>
      <Priority>19</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Starfire</Name>
        <Bar>2</Bar>
        <Key>3</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>48517</Value>
      </BuffCondition>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>HasBuff</Condition>
        <ValueType>Id</ValueType>
        <Value>67483</Value>
      </BuffCondition>
    </Rule>
  </CombatController>
  <BuffController>
    <Rule>
      <Name>MoW</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>MoW</Name>
        <Bar>3</Bar>
        <Key>5</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <BuffCondition>
        <ConditionTarget>Player</ConditionTarget>
        <Condition>DoesNotHave</Condition>
        <ValueType>Id</ValueType>
        <Value>79061</Value>
      </BuffCondition>
    </Rule>
  </BuffController>
  <RestController>
    <Rule>
      <Name>Rejuvenation</Name>
      <MatchAll>True</MatchAll>
      <ShouldTarget>Self</ShouldTarget>
      <Priority>0</Priority>
      <Action>
        <Type>ActionKey</Type>
        <Name>Rejuvenation</Name>
        <Bar>3</Bar>
        <Key>7</Key>
        <Special>None</Special>
        <Times>1</Times>
      </Action>
      <HealthPowerCondition>
        <ConditionTarget>Player</ConditionTarget>
        <ConditionType>Health</ConditionType>
        <Condition>LessThan</Condition>
        <Value>75</Value>
      </HealthPowerCondition>
    </Rule>
  </RestController>
</Behavior>